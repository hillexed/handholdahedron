<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <link rel="shortcut icon" href="../favicon.ico"/>
  <title>Handholdahedra Exploration</title>

  <script type="module" src="./handholdahedroneditor.js"></script>

  <style>
    #canvasContainer{
        width:100%;
        height:100%;
        position: absolute;
    }
    body{
        margin:0;
    }

    canvas{
        margin: 0 auto;
        display: block;
        width:100%;
        height:100%;
    }

    #overlay{
        position: absolute;
        top: 0;
        left: 0;
        z-index: 2;
        background-color: #fff9
    }

    .checkboxgrid{
        grid-template-columns: repeat(3, 1fr);
        display: grid;
    }

    .planebox{
        margin: 3px;
    }

  </style>

  <meta name="viewport" content="initial-scale=1, maximum-scale=1">

</head>
<body>
  <div id="canvasContainer"> 
    <canvas id="canvas">

    </canvas>
    <div id="overlay">

        <button onclick="editor.importPlaneList()">Import Planes</button>
        <button onclick="editor.exportData()">Export Planes, Vertices, & Faces</button>
        <br>
        Edge self-intersections: <span id="crossingCount"></span>

        <br />
        <br />

        Selected planes: <span id="selectedPlane"></span><br>

        <div class="checkboxgrid">
            <div class="planebox">
                <input type="checkbox" id="plane0">0</input>
            </div>
            <div class="planebox">
                <input type="checkbox" id="plane1">1</input>
            </div>
            <div class="planebox">
                <input type="checkbox" id="plane2">2</input>
            </div>
            <div class="planebox">
                <input type="checkbox" id="plane3">3</input>
            </div>
            <div class="planebox">
                <input type="checkbox" id="plane4">4</input>
            </div>
            <div class="planebox">
                <input type="checkbox" id="plane5">5</input>
            </div>
            <div class="planebox">
                <input type="checkbox" id="plane6">6</input>
            </div>
            <div class="planebox">
                <input type="checkbox" id="plane7">7</input>
            </div>
            <div class="planebox">
                <input type="checkbox" id="plane8">8</input>
            </div>
            <div class="planebox">
                <input type="checkbox" id="plane9">9</input>
            </div>
            <div class="planebox">
                <input type="checkbox" id="plane10">10</input>
            </div>
            <div class="planebox">
                <input type="checkbox" id="plane11">11</input>
            </div>
        </div>
        
        <input type="checkbox" id="debugplanebtn">Show planes</input>
        <br>
        <input type="checkbox" id="togglewireframes">Show Edges</input>
        <br>
        <input type="checkbox" id="togglefaces">Show faces (inaccurate) & vertices</input>
        

        <br><br>
        <u>Adjust selected planes with your keyboard!</u>
        <div id="movecontrols">
            Move selected planes:<br/>
            <button onclick="editor.toggleKeyboardMode()">Switch to rotation</button><br/>
            a and d: translate plane in x direction <br/>
            w and s: translate plane in y direction<br/>
            q and e: translate plane in z direction </br>
            
        </div>
        <div id="rotatecontrols" style="display:none">
            Rotate selected planes: (For best results, check "show planes")<br/>
            <button onclick="editor.toggleKeyboardMode()">Switch to translation</button><br/>
            a and d: Rotate plane normal about x-axis<br/>
            w and s: Rotate plane normal about y-axis<br/>
            q and e: Rotate plane normal about z-axis<br/>
        </div>
        <br/>
        <u>Random plane search</u><br/>
        <button onclick="editor.startPlaneSearch(20)">Generate randomly until <20 intersections</button>
        <br><button onclick="editor.startPlaneSearch(10)">Generate randomly until <10 intersections, or until page crashes</button>


        <br><br>
        <u>Gradient ascent controls:</u><br>
        <button onclick="editor.toggleAscent();">Toggle optimizing</button> (<span id="numIterations">0</span> iterations)<br>
        Thing being optimized: <span id='maximizingValue'>N/A</span>

    </div>
  </div>
</body>
</html>
